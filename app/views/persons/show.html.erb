<div class="row">
    <div class="col-md-8">
        <div class="panel panel-default">
            <div class="panel-heading"><%= @person.name %></div>
            <div class="panel-body">
                <%= @person.text %><br>
            </div>
        </div> 

        <div class="panel panel-default">
            <div class="panel-body">
                <% if @person.myclan %>
                  <span class="label label-warning"><%= @person.myclan.tribe.name %> </span>&#9658;
                  <span class="label label-warning"><%= @person.myclan.name %> </span>&hellip;
                <% end %>
                <% @ancestors.reverse_each do |node| %>
                  <%= link_to(node) do %>  
                    <span class="label label-info"><%= node.name %> </span>
                  <% end %> &#8658;                          
                <% end %>
                <span class="label label-success"><%= @person.name %> </span>
            </div>
        </div>

        <%= render partial: 'layouts/shared/buttons', locals: { model_name: @person.model_name.singular } %>
        </div>
        <div class="col-md-4">                    
            <ul class="list-group">                     

                <% if @person.myclan %>
                  <li class="list-group-item">
                      Taipa: <%= @person.myclan.tribe.name %>
                  </li>
                  <li class="list-group-item">
                      Ruy: <%= link_to(@person.myclan.name, @person.myclan) %>                          </li> 
                  <li class="list-group-item">                              
                      <%= link_to("Show", person_belongs_to_path(@person, @person.myclan)) %>
                  </li>                              
                <% else %>
                  <li class="list-group-item">
                      Ruy: <%= link_to("Manage Clan", new_person_belongs_to_path(@person), class: 'btn btn-warning btn-sm') %>
                    </li> 
                  <% end %>

                  <li class="list-group-item">
                      Ancestor: <%= link_to(@person.ancestor.name, @person.ancestor) if @person.ancestor %>
                  </li>
                  <% if @person.seeds.present? %>
                    <li class="list-group-item">
                        <%= @person.name %> has descendants:
                    </li>

                    <% @person.seeds.each_rel do |r| %>
                      <li class="list-group-item"> 
                          <%= link_to(r.to_node[:name], r.to_node) %> 
                      </li>                            
                    <% end %>
                  <% else %>
                    <li class="list-group-item">
                        <%= @person.name %> has not descendants.
                    </li>
                  <% end %>
                  <li class="list-group-item">
                      <%= link_to 'Add son', addson_person_path, class: 'btn btn-info btn-sm' %>
                        <%= link_to 'Adopt some person', new_seed_path, class: 'btn btn-warning btn-sm' %>
                      </li>

                  </ul>
              </div>
          </div>
          <!-- divider -->
          <div class="row">
              <div class='col-md-12'>
                  <div class="panel panel-default">
                      <div class="panel-body" id="tree-container">
                          d3
                      </div>
                  </div>
              </div>
          </div>
          <!-- end divider -->